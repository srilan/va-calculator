let express,p;_dff‍.x([["getComponentRoutes",()=>getComponentRoutes]]);_dff‍.w("express",[["default",["express"],function(v){express=v}]]);_dff‍.w("path",[["*",null,function(v){p=v}]]);



       const getComponentRoutes = () => {
    
    const routes = express.Router();
    routes.get("/total-compensation", (req, res)=> {
        res.status(200).sendFile(p.join(__dirname, "../views/total_compensation.htm"));
    });
    routes.get("/nav", (req, res)=> {
        res.status(200).sendFile(p.join(__dirname, "../views/components/nav.htm"));
    });
    routes.post('/ratings', (req, res) => {
        const ratings = JSON.parse(req.body.ratings);
        //res.status(200).send({})
        res.render("components/ratings", {
            ratings: ratings.data
        });
    })

    routes.post('/bodyDiag', (req, res) => {
        let highlights = req.body.highlight
        _dff‍.g.console.log(highlights, 'hi')
        res.render('components/bodySVG', {
            highlight: highlights
        });
    })
    
    routes.post('/disability-rating', async (req, res) => {
        const ratings = JSON.parse(req.body.ratings);
        _dff‍.g.console.log(ratings)
        /**
         * use .env
         */
        const service = await fetch("https://va-calc-be.onrender.com/calculator/disability-rating",
            {
                method: "POST",
                body: ratings,
                headers: {
                    "Content-Type": "application/json" 
                }
            }
        );
        const disabilityRating = await service.json();
        _dff‍.g.console.log("dis", disabilityRating, ratings)
        res.render("components/disabilityrating", {
            disabilityRating: disabilityRating
        });
    })

    return routes;
}
